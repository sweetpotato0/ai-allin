# ç”Ÿäº§çº§ç”µå•†æ™ºèƒ½å®¢æœå¹³å°

## ðŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåˆ©ç”¨ `ai-allin` æ¡†æž¶æž„å»ºçš„**ç”Ÿäº§çº§ç”µå•†æ™ºèƒ½å®¢æœå¹³å°**ï¼Œå®Œæ•´æ¼”ç¤ºäº†å¦‚ä½•åœ¨å®žé™…åº”ç”¨ä¸­é›†æˆå’Œä½¿ç”¨æ¡†æž¶çš„æ‰€æœ‰æ ¸å¿ƒç»„ä»¶ã€‚

### ðŸŽ¯ æ ¸å¿ƒåŠŸèƒ½

- **å¤šAgentåè°ƒ**: 4ç§ä¸“ä¸šAgentå¹¶è¡Œè¿ä½œ
  - ðŸ’¬ **å®¢æœAgent**: å¤„ç†å®¢æˆ·å’¨è¯¢å’Œé—®é¢˜
  - ðŸ“Š **è¿è¥Agent**: åˆ†æžå®¢æˆ·è¡Œä¸ºå’Œè¶‹åŠ¿
  - âœ… **QA Agent**: å®¡æŸ¥æœåŠ¡è´¨é‡
  - ðŸ“š **çŸ¥è¯†Agent**: ç®¡ç†çŸ¥è¯†åº“

- **å®Œæ•´çš„Sessionå’ŒContextç®¡ç†**
  - æ¯ä¸ªå®¢æˆ·ä¸€ä¸ªç‹¬ç«‹Session
  - æ¯ä¸ªAgentä¸€ä¸ªç‹¬ç«‹Context
  - æ”¯æŒå¤šè½®å¯¹è¯å’ŒåŽ†å²è¿½è¸ª

- **ç”Ÿäº§çº§ç‰¹æ€§**
  - é«˜å¹¶å‘å¤„ç†ï¼ˆ10000+ sessionsï¼‰
  - å®žæ—¶ç›‘æŽ§å’Œå‘Šè­¦
  - å®Œæ•´çš„é”™è¯¯æ¢å¤
  - æ•°æ®æŒä¹…åŒ–å’Œå¤‡ä»½

---

## ðŸ—ï¸ æž¶æž„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ECommerceServicePlatform                      â”‚
â”‚  (å¹³å°ä¸»æŽ§åˆ¶å±‚)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¤šAgentåè°ƒå±‚                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ CS Agent   â”‚ Op Agent   â”‚ QA Agent   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ (Context)  â”‚ (Context)  â”‚ (Context)  â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚         â”‚            â”‚            â”‚         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  Session Manager                      â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  (ç®¡ç†å¤šä¸ªå®¢æˆ·ä¼šè¯)                   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚         â”‚                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸­é—´ä»¶å±‚   â”‚                                      â”‚
â”‚ Logger â”€â”€â”€â”€â”¼â”€â”€â”€ Limiter â”€â”€â”€ Enricher â”€â”€â”€ ErrorHandler
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®å±‚     â”‚                                      â”‚
â”‚            â”œâ”€ PostgreSQL (è®¢å•/å®¢æˆ·/å·¥å•)        â”‚
â”‚            â”œâ”€ Redis (ç¼“å­˜/Session)               â”‚
â”‚            â”œâ”€ Vector Store (çŸ¥è¯†åº“)              â”‚
â”‚            â””â”€ Memory Store (å¯¹è¯è®°å¿†)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker & Docker Compose
- Go 1.20+
- OpenAI API Keyï¼ˆæˆ–å…¶ä»–LLMæä¾›å•†ï¼‰

### 1ï¸âƒ£ çŽ¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
cd examples/production

# é…ç½®çŽ¯å¢ƒå˜é‡
cat > .env << EOF
OPENAI_API_KEY=your-api-key
DB_PASSWORD=your-db-password
REDIS_PASSWORD=your-redis-password
GRAFANA_PASSWORD=admin
EOF

# åˆå§‹åŒ–æ•°æ®åº“
docker-compose up postgres redis elasticsearch -d
```

### 2ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨å®Œæ•´çš„Docker Composeæ ˆ
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f app

# æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
docker-compose ps
```

### 3ï¸âƒ£ è¿è¡Œæ¼”ç¤º

```bash
# æž„å»ºé¡¹ç›®
go build -o platform main.go ecommerce_service.go

# è¿è¡Œå®Œæ•´æ¼”ç¤º
./platform

# è¾“å‡ºç¤ºä¾‹ï¼š
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘   ç”Ÿäº§çº§ç”µå•†æ™ºèƒ½å®¢æœå¹³å° - å®Œæ•´åŠŸèƒ½æ¼”ç¤º                      â•‘
# â•‘   Production-Grade E-Commerce AI Customer Service Platform   â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ðŸ“Š æ¼”ç¤ºåœºæ™¯è¯¦è§£

### åœºæ™¯1: å•å®¢æˆ·å’¨è¯¢å¤„ç†

**æµç¨‹**:
1. éªŒè¯å®¢æˆ·èº«ä»½
2. åˆ›å»ºç‹¬ç«‹Session
3. é…ç½®ä¸­é—´ä»¶ï¼ˆæ—¥å¿—ã€é™æµã€é”™è¯¯å¤„ç†ï¼‰
4. è°ƒç”¨å®¢æœAgentå¤„ç†
5. ç”Ÿæˆå·¥å•è®°å½•
6. ä¿å­˜å¯¹è¯åŽ†å²

```go
// ä»£ç ç¤ºä¾‹
response, _ := platform.HandleCustomerInquiry("CUST001", "è®¢å•æŸ¥è¯¢...")
// âœ“ Sessionåˆ›å»º: cs_CUST001_1234567890
// âœ“ Contextæ¶ˆæ¯æ•°: 3
// âœ“ å·¥å•åˆ›å»º: TKT_1234567890
```

### åœºæ™¯2: å¤šè½®å¯¹è¯ï¼ˆæ ¸å¿ƒç‰¹æ€§ï¼‰

**å…³é”®ç‚¹**:
- **Session**: ä»£è¡¨ä¸€ä¸ªå®¢æˆ·çš„å®Œæ•´å¯¹è¯ä¼šè¯
- **Context**: è®°å½•æœ¬Sessionå†…æ‰€æœ‰æ¶ˆæ¯åŽ†å²
- **å¤šè½®äº¤äº’**: æ¯æ¬¡Run()éƒ½ä¼šå‘Contextæ·»åŠ æ–°æ¶ˆæ¯

```
ç”¨æˆ·è½®æ¬¡1: "æŸ¥è¯¢è®¢å•"
  â†“ Session.Run()
  â†“ Agentå¤„ç† + Contextè®°å½•æ¶ˆæ¯
  â†“ Contextæ¶ˆæ¯æ•°: 2 (user + agent)

ç”¨æˆ·è½®æ¬¡2: "ä»€ä¹ˆæ—¶å€™åˆ°ï¼Ÿ"
  â†“ Session.Run()
  â†“ Agentå¤„ç†ï¼ˆå¯ä»¥çœ‹åˆ°ä¹‹å‰çš„æ¶ˆæ¯åŽ†å²ï¼‰
  â†“ Contextæ¶ˆæ¯æ•°: 4

ç”¨æˆ·è½®æ¬¡3: "å¯ä»¥é€€è´§å—ï¼Ÿ"
  â†“ Session.Run()
  â†“ Agentå¤„ç†ï¼ˆæœ‰å®Œæ•´çš„å¯¹è¯ä¸Šä¸‹æ–‡ï¼‰
  â†“ Contextæ¶ˆæ¯æ•°: 6
```

### åœºæ™¯3: å¤šAgentåè°ƒï¼ˆå®Œæ•´å·¥ä½œæµï¼‰

**æ‰§è¡Œé¡ºåº**:
1. **å®¢æœAgent** (CS Agent)
   - å¤„ç†å®¢æˆ·é—®é¢˜
   - æä¾›åˆæ­¥æ–¹æ¡ˆ
   - Contextè®°å½•å¯¹è¯

2. **è¿è¥Agent** (Operation Agent)
   - åˆ†æžå®¢æˆ·ä»·å€¼
   - è¯„ä¼°VIPç­‰çº§
   - é¢„æµ‹æµå¤±é£Žé™©

3. **QA Agent** (QA Agent)
   - å®¡æŸ¥å®¢æœå›žå¤
   - æ£€æŸ¥æ”¿ç­–åˆè§„
   - æä¾›æ”¹è¿›å»ºè®®

4. **çŸ¥è¯†Agent** (Knowledge Agent)
   - è¯†åˆ«çŸ¥è¯†ç¼ºå£
   - å»ºè®®æ–‡æ¡£æ›´æ–°
   - æ”¹è¿›çŸ¥è¯†åº“

```
æµç¨‹å›¾:
Customer Inquiry
    â†“
[CS Agent]  â† Contextè®°å½•å¯¹è¯
    â†“
[Operation Agent]  â† åˆ†æžå®¢æˆ·ä»·å€¼
    â†“
[QA Agent]  â† å®¡æŸ¥è´¨é‡
    â†“
[Knowledge Agent]  â† æ›´æ–°çŸ¥è¯†åº“
    â†“
å®Œæ•´è§£å†³æ–¹æ¡ˆ + æ”¹è¿›å»ºè®®
```

### åœºæ™¯4: å¹¶è¡Œå¤„ç†

åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·çš„å’¨è¯¢ï¼Œæ¯ä¸ªSessionç‹¬ç«‹è¿è¡Œã€‚

```
å®¢æˆ·1 â”€â”€[Session_1]â”€â”€[Agent]â”€â”€[Context]
                                   â†“
å®¢æˆ·2 â”€â”€[Session_2]â”€â”€[Agent]â”€â”€[Context]
                                   â†“
å®¢æˆ·3 â”€â”€[Session_3]â”€â”€[Agent]â”€â”€[Context]
                                   â†“
å®¢æˆ·4 â”€â”€[Session_4]â”€â”€[Agent]â”€â”€[Context]
                                   â†“
å®¢æˆ·5 â”€â”€[Session_5]â”€â”€[Agent]â”€â”€[Context]

âœ“ 5ä¸ªç‹¬ç«‹Sessionå¹¶è¡Œè¿è¡Œ
âœ“ SessionManagerç»´æŠ¤æ‰€æœ‰Session
âœ“ ä¸ç›¸äº’å¹²æ‰°
```

---

## ðŸ”§ æ¡†æž¶ç»„ä»¶ä½¿ç”¨

### 1. Session (ä¼šè¯ç®¡ç†)

```go
// åˆ›å»ºSession
sess, err := sessionManager.Create(ctx, sessionID, agent)
defer sess.Close()

// Sessionå†…æ‰§è¡Œå¯¹è¯
response, err := sess.Run(ctx, userInput)

// èŽ·å–Sessionä¸­çš„æ¶ˆæ¯
messages := sess.GetMessages()

// æŸ¥è¯¢SessionçŠ¶æ€
state := sess.GetState()  // "active" / "inactive" / "closed"

// ç®¡ç†æ‰€æœ‰Sessions
sessionManager.List()      // åˆ—å‡ºæ‰€æœ‰Session IDs
sessionManager.Count()     // èŽ·å–æ´»è·ƒSessionæ•°
sessionManager.Delete(id)  // åˆ é™¤Session
```

### 2. Context (å¯¹è¯åŽ†å²)

```go
// Agentå†…éƒ¨è‡ªåŠ¨ç®¡ç†Context
// æ¯æ¬¡Run()æ—¶ä¼šè‡ªåŠ¨è®°å½•æ¶ˆæ¯

// Contextç‰¹æ€§:
// - è‡ªåŠ¨ç»´æŠ¤æ¶ˆæ¯åŽ†å²
// - æ”¯æŒRole-basedç­›é€‰
// - è‡ªåŠ¨è£å‰ªè¶…å¤§å¯¹è¯
// - çº¿ç¨‹å®‰å…¨

// èŽ·å–æ‰€æœ‰æ¶ˆæ¯
messages := agent.GetMessages()

// æŒ‰Roleç­›é€‰
userMsgs := agent.GetMessagesByRole(message.RoleUser)

// èŽ·å–æœ€åŽä¸€æ¡æ¶ˆæ¯
lastMsg := agent.GetLastMessage()

// æ¸…ç©ºåŽ†å²
agent.Clear()
```

### 3. Agent (æ™ºèƒ½ä»£ç†)

```go
// åˆ›å»ºAgent
ag := agent.New(
    agent.WithName("customer_service"),
    agent.WithSystemPrompt(systemPrompt),
    agent.WithMaxIterations(8),
    agent.WithTemperature(0.6),
    agent.WithMemory(memoryStore),
    agent.WithTools(true),
)

// æ·»åŠ ä¸­é—´ä»¶
ag.AddMiddleware(logger.NewRequestLogger("service"))
ag.AddMiddleware(limiter.NewRateLimiter(100, time.Second))

// åœ¨Sessionä¸­è¿è¡Œ
sess, _ := sessionManager.Create(ctx, sessionID, ag)
response, _ := sess.Run(ctx, input)
```

### 4. Middleware (ä¸­é—´ä»¶)

```go
// è¯·æ±‚æ—¥å¿—
ag.AddMiddleware(logger.NewRequestLogger("service"))

// é€ŸçŽ‡é™åˆ¶
ag.AddMiddleware(limiter.NewRateLimiter(
    100,           // è¯·æ±‚æ•°
    time.Second,   // æ—¶é—´çª—å£
))

// ä¸Šä¸‹æ–‡å¢žå¼º
ag.AddMiddleware(enricher.NewContextEnricher(map[string]string{
    "session_id": sessionID,
    "customer_id": customerID,
}))

// é”™è¯¯å¤„ç†
ag.AddMiddleware(errorhandler.NewErrorHandler())
```

### 5. Memory (æ™ºèƒ½è®°å¿†)

```go
// æ·»åŠ è®°å¿†
err := memoryStore.AddMemory(ctx, message)

// æœç´¢ç›¸ä¼¼è®°å¿†
results, _ := memoryStore.SearchMemory(ctx, query)

// èŽ·å–å…·ä½“è®°å¿†
mem, _ := memoryStore.GetMemoryByID(ctx, memoryID)

// æ›´æ–°è®°å¿†
err := memoryStore.UpdateMemory(ctx, id, newContent, metadata)

// åˆ é™¤è®°å¿†
err := memoryStore.DeleteMemory(ctx, id)
```

### 6. Tool (å·¥å…·ç³»ç»Ÿ)

```go
// æ³¨å†Œå·¥å…·
toolReg := tool.NewRegistry()

toolReg.RegisterTool("query_order", tool.NewTool(
    "query_order",
    "æŸ¥è¯¢è®¢å•ä¿¡æ¯",
    func(ctx context.Context, args map[string]any) (any, error) {
        orderID := args["order_id"].(string)
        // ä¸šåŠ¡é€»è¾‘...
        return result, nil
    },
))

// Agentä½¿ç”¨å·¥å…·ï¼ˆè‡ªåŠ¨è°ƒç”¨ï¼‰
// åœ¨SystemPromptä¸­æè¿°å¯ç”¨å·¥å…·
// Agentä¼šè‡ªåŠ¨åˆ¤æ–­ä½•æ—¶è°ƒç”¨
```

### 7. Prompt (æç¤ºè¯ç®¡ç†)

```go
// åˆ›å»ºPrompt Manager
pm := prompt.NewManager()

// æ³¨å†Œæç¤ºè¯æ¨¡æ¿
pm.Register("customer_service", systemPrompt)
pm.Register("operation", operationPrompt)

// æ£€ç´¢æç¤ºè¯
prompt := pm.Get("customer_service")

// åˆ—å‡ºæ‰€æœ‰æç¤ºè¯
all := pm.List()
```

### 8. Vector (å‘é‡å­˜å‚¨)

```go
// ä¿å­˜å‘é‡
err := vectorStore.SaveEmbedding(ctx, id, content, embedding, metadata)

// ç›¸ä¼¼æ€§æœç´¢
results, _ := vectorStore.SearchSimilar(ctx, query, 5)

// åˆ é™¤å‘é‡
err := vectorStore.DeleteEmbedding(ctx, id)
```

---

## ðŸ“ˆ ç›‘æŽ§å’ŒæŒ‡æ ‡

### å†…ç½®æŒ‡æ ‡

```
æ€»è¯·æ±‚æ•°:        12500
æˆåŠŸè¯·æ±‚:        12350 (98.8%)
å¤±è´¥è¯·æ±‚:        150 (1.2%)
å¹³å‡å“åº”æ—¶é—´:    1250ms
å½“å‰æ´»è·ƒSessions: 156
æ€»å®¢æˆ·æ•°:        1500
æ€»è®¢å•æ•°:        8945
æ€»é”€å”®é¢:        Â¥2,500,000
```

### å¯è§‚æµ‹æ€§

- **Prometheus**: æŒ‡æ ‡æ”¶é›†
- **Grafana**: å®žæ—¶ç›‘æŽ§é¢æ¿
- **Elasticsearch**: æ—¥å¿—å­˜å‚¨
- **Kibana**: æ—¥å¿—æŸ¥è¯¢

### è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ |
|------|------|
| åº”ç”¨ | http://localhost:8080 |
| Grafana | http://localhost:3000 |
| Prometheus | http://localhost:9090 |
| Kibana | http://localhost:5601 |
| Elasticsearch | http://localhost:9200 |

---

## ðŸ” ç”Ÿäº§éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] é…ç½®APIå¯†é’¥å’Œæ•°æ®åº“å¯†ç 
- [ ] å¯ç”¨TLS/SSLåŠ å¯†
- [ ] é…ç½®é€ŸçŽ‡é™åˆ¶
- [ ] è®¾ç½®ç›‘æŽ§å‘Šè­¦
- [ ] é…ç½®è‡ªåŠ¨å¤‡ä»½
- [ ] éƒ¨ç½²æ—¥å¿—èšåˆ
- [ ] é…ç½®è´Ÿè½½å‡è¡¡
- [ ] æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
- [ ] å®‰å…¨å®¡è®¡
- [ ] ç¾éš¾æ¢å¤è®¡åˆ’

---

## ðŸ“š å…³é”®æ¦‚å¿µæ€»ç»“

### Session vs Context

| ç»´åº¦ | Session | Context |
|------|---------|---------|
| **ä½œç”¨** | ç”¨æˆ·ä¼šè¯ç®¡ç† | å¯¹è¯åŽ†å²è®°å½• |
| **èŒƒå›´** | ç”¨æˆ·çº§åˆ« | Agentçº§åˆ« |
| **ç”Ÿå‘½å‘¨æœŸ** | ç”¨æˆ·ä»Žç™»å½•åˆ°ç™»å‡º | Agentè¿è¡ŒæœŸé—´ |
| **æ•°é‡** | 10000+ | ä¸ŽSessionæ•°é‡ç›¸åŒ |
| **å…³ç³»** | 1 Session : 1+ Agent | 1 Agent : 1 Context |

### å¤šè½®å¯¹è¯å·¥ä½œåŽŸç†

```
Sessionå†…çš„å¤šè½®å¯¹è¯æµç¨‹ï¼š

Round 1: User Input â†’ Session.Run()
         â†“
         Agentå¤„ç† + Contextè®°å½• (msg1, msg2)
         â†“
         Response1

Round 2: User Input â†’ Session.Run()
         â†“
         Agentå¤„ç† (å¯è®¿é—®å‰1è½®çš„æ¶ˆæ¯)
         â†“
         Contextè®°å½• (msg1, msg2, msg3, msg4)
         â†“
         Response2 (æ›´å‡†ç¡®ï¼Œæœ‰å®Œæ•´ä¸Šä¸‹æ–‡)

Round 3: User Input â†’ Session.Run()
         â†“
         Agentå¤„ç† (å¯è®¿é—®å‰2è½®çš„æ‰€æœ‰æ¶ˆæ¯)
         â†“
         Contextè®°å½• (msg1-msg6)
         â†“
         Response3 (æœ€ç²¾å‡†ï¼Œæœ‰æœ€å®Œæ•´çš„ä¸Šä¸‹æ–‡)
```

---

## ðŸŽ“ å­¦ä¹ è·¯å¾„

1. **åŸºç¡€**: è¿è¡Œå•ä¸ªæ¼”ç¤ºåœºæ™¯
2. **è¿›é˜¶**: ä¿®æ”¹Agentçš„SystemPrompt
3. **é«˜çº§**: æ·»åŠ æ–°çš„Agentæˆ–å·¥å…·
4. **ä¸“å®¶**: å®žçŽ°è‡ªå®šä¹‰Middlewareå’ŒMemoryå­˜å‚¨

---

## ðŸ“ž æ”¯æŒå’Œåé¦ˆ

- æäº¤Issue: GitHub Issues
- è®¨è®º: GitHub Discussions
- æ–‡æ¡£: [ai-allin Documentation](https://github.com/sweetpotato0/ai-allin)

---

## ðŸ“„ è®¸å¯è¯

MIT License

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ðŸš€**
